
# Telegram-бот для заявок в АХО (Service Desk)

Простой и эффективный бот для приема и обработки внутренних заявок сотрудников (сломанная мебель, электрика, уборка и т.д.).  
Написан на **Python** (aiogram 3.x) с использованием асинхронной базы данных **SQLite**.

##  Возможности

### Для сотрудников
- Подача заявки за 30 секунд: **Категория → Срочность → Описание + Фото**
- Просмотр статуса своих заявок (**Новая / В работе / Выполнено**)
- Уведомления об изменении статуса заявки

### Для администраторов (АХО)
- Мгновенные уведомления о новых заявках
- Поддержка нескольких администраторов
- Панель "Активные заявки" (список невыполненных задач)
- Управление статусами в один клик (**Взять в работу / Выполнить / Отклонить**)
- Защита от спама и дублей (фотоальбомов)

## Установка и запуск

### Предварительные требования
- Python 3.10+
- Токен бота от [@BotFather](https://t.me/BotFather)

### 1. Клонирование репозитория
```bash
git clone https://github.com/hixday28/aho-bot.git
cd aho-bot
```

### 2. Создание виртуального окружения

**Windows:**
```bash
python -m venv venv
venv\Scripts\activate
```

**macOS / Linux:**
```bash
python3 -m venv venv
source venv/bin/activate
```

### 3. Установка зависимостей
```bash
pip install -r requirements.txt
```

### 4. Настройка конфигурации
```bash
cp .env.example .env
```

Откройте `.env` и заполните данные:
```ini
BOT_TOKEN=123466:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
# ID администраторов через запятую
ADMIN_IDS=123456789,987654321
```

### 5. Запуск бота
```bash
python main.py
```

Бот автоматически создаст базу данных `aho_requests.db`.

## Структура проекта

```
aho-bot/
├── main.py           # Точка входа, вся логика бота
├── db.py             # Работа с SQLite базой данных
├── requirements.txt  # Зависимости
├── .env              # Конфигурация
├── .env.example      # Пример конфигурации
└── aho_requests.db   # База данных
```

## Безопасность
Файл .env и база данных *.db добавлены в .gitignore. Никогда не публикуйте свой токен бота в открытом доступе!
